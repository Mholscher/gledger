

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Journals - Postings and journals &mdash; GLedger : General Ledger 1.0 documentation</title>
    
    <link rel="stylesheet" href="_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '1.0',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/bizstyle.js"></script>
    <link rel="top" title="GLedger : General Ledger 1.0 documentation" href="index.html" />
    <link rel="next" title="API documentation" href="GLAPI.html" />
    <link rel="prev" title="GLViews - the General Ledger views" href="GLView.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="GLAPI.html" title="API documentation"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="GLView.html" title="GLViews - the General Ledger views"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">GLedger : General Ledger 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Journals - Postings and journals</a><ul>
<li><a class="reference internal" href="#example-of-a-journal">Example of a Journal</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="GLView.html"
                        title="previous chapter">GLViews - the General Ledger views</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="GLAPI.html"
                        title="next chapter">API documentation</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/Journals.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="journals-postings-and-journals">
<h1>Journals - Postings and journals<a class="headerlink" href="#journals-postings-and-journals" title="Permalink to this headline">¶</a></h1>
<p>Postings can only be added to the GL system by supplying Journals. Journals are lists of postings that in the end balance, the sum of debit amounts must be equal to the sum of credit amounts.</p>
<div class="section" id="example-of-a-journal">
<h2>Example of a Journal<a class="headerlink" href="#example-of-a-journal" title="Permalink to this headline">¶</a></h2>
<p>The example below will contain all possible fields. Fields that are mandatory, will be marked with an asterisk, that is not part of the definition:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="p">{</span><span class="s">&quot;journal&quot;</span><span class="o">*</span> <span class="p">:</span>
    <span class="p">{</span><span class="s">&quot;function&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;insert&quot;</span><span class="p">,</span>
     <span class="s">&quot;journalno&quot;</span> <span class="p">:</span> <span class="s">&quot;12&quot;</span>
     <span class="s">&quot;extkey&quot;</span> <span class="p">:</span> <span class="s">&quot;f234&quot;</span><span class="p">,</span>
     <span class="s">&quot;postings&quot;</span><span class="o">*</span> <span class="p">:</span>
        <span class="p">[{</span>  <span class="s">&quot;account&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;verkopen&quot;</span><span class="p">,</span>
            <span class="s">&quot;currency&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;EUR&quot;</span><span class="p">,</span>
            <span class="s">&quot;amount&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;23000&quot;</span><span class="p">,</span>
            <span class="s">&quot;debitcredit&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;Cr&quot;</span><span class="p">,</span>
            <span class="s">&quot;valuedate&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;2017-01-12&quot;</span><span class="p">},</span>
        <span class="p">{</span>   <span class="s">&quot;account&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;kas&quot;</span><span class="p">,</span>
            <span class="s">&quot;currency&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;EUR&quot;</span><span class="p">,</span>
            <span class="s">&quot;amount&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;25000&quot;</span><span class="p">,</span>
            <span class="s">&quot;debitcredit&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;Db&quot;</span><span class="p">,</span>
            <span class="s">&quot;valuedate&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;2017-01-12&quot;</span><span class="p">},</span>
        <span class="p">{</span>   <span class="s">&quot;account&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;btw (ontvangen)&quot;</span><span class="p">,</span>
            <span class="s">&quot;currency&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;EUR&quot;</span><span class="p">,</span>
            <span class="s">&quot;amount&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;2000&quot;</span><span class="p">,</span>
            <span class="s">&quot;debitcredit&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;Cr&quot;</span><span class="p">,</span>
            <span class="s">&quot;valuedate&quot;</span><span class="o">*</span> <span class="p">:</span> <span class="s">&quot;2017-01-12&quot;</span><span class="p">}]</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The definitions of the fields are as follows:</p>
<blockquote>
<div><dl class="docutils">
<dt>journal</dt>
<dd>contains the full journal, with all fields pertaining to the journal and the postings are embedded.</dd>
<dt>function</dt>
<dd>what to do with the postings. &#8220;insert&#8221; will create a new journal, &#8220;add&#8221; will add the postings to the journal having journalno as its number.</dd>
<dt>journalno</dt>
<dd>in case of an &#8220;add&#8221;, the number of the journal to add the postings to. Ignored for insert.</dd>
<dt>extkey</dt>
<dd>an optional key to the journal in the system that generated it. If present, will be added to a response.</dd>
<dt>postings</dt>
<dd>the list of postings for this journal.</dd>
<dt>account</dt>
<dd>The account is posting is to be made to.</dd>
<dt>currency</dt>
<dd>The currency code of the posting. It is recommended to use the SWIFT currency codes</dd>
<dt>amount</dt>
<dd>The amount in the smallest unit of the currency (e.g. cents)</dd>
<dt>debitcredit</dt>
<dd>Debit (&#8216;Db&#8217;) or credit (&#8216;Cr&#8217;) of the posting</dd>
<dt>valuedate</dt>
<dd>The date this posting should be applied</dd>
</dl>
</div></blockquote>
<p>The result of the submission if successful will be the following message:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="p">{</span>   <span class="s">&quot;httpstatus&quot;</span><span class="p">:</span><span class="s">&quot;OK&quot;</span><span class="p">;</span>
    <span class="s">&quot;message&quot;</span><span class="p">:</span><span class="s">&quot;Journal added&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>If not successful, a message will be sent as follows:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="p">{</span>   <span class="s">&quot;httpstatus&quot;</span><span class="p">:</span><span class="s">&quot;Not correct&quot;</span><span class="p">;</span>
    <span class="s">&quot;message&quot;</span><span class="p">:</span><span class="s">&quot;Journal was not balancing&quot;</span><span class="p">;</span>
    <span class="s">&quot;extkey&quot;</span><span class="p">:</span><span class="s">&quot;f234&quot;</span><span class="p">;</span>
    <span class="s">&quot;remark&quot;</span><span class="p">:</span><span class="s">&quot;The journal was stored and can be updated&quot;</span>
<span class="p">}</span>
</pre></div>
</div>
<p>Where the &#8220;f234&#8221; is the external key passed by the application. If the server is not able to store the journal (e.g. because it was incorrectly formatted), the message wil be:</p>
<div class="highlight-default"><div class="highlight"><pre><span class="p">{</span>   <span class="s">&quot;httpstatus&quot;</span><span class="p">:</span><span class="s">&quot;Bad request&quot;</span><span class="p">;</span>
    <span class="s">&quot;message&quot;</span><span class="p">:</span><span class="s">&quot;Journal contained no posting&quot;</span><span class="p">;</span>
    <span class="s">&quot;extkey&quot;</span><span class="p">:</span><span class="s">&quot;f234&quot;</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="GLAPI.html" title="API documentation"
             >next</a> |</li>
        <li class="right" >
          <a href="GLView.html" title="GLViews - the General Ledger views"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">GLedger : General Ledger 1.0 documentation</a> &raquo;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &copy; Copyright 2016, Menno Hölscher.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.4.1.
    </div>
  </body>
</html>